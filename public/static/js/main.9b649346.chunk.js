(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{60:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(23),c=n.n(r),s=n(11),i=(n(60),n(3)),o=n.n(i),u=n(55),l=n(8),j=n(7),b=n(0),d=function(e){var t=e.userLoggedIn;return Object(b.jsx)("div",{className:"p-5 text-center bg-image",style:{backgroundImage:"url('https://cdn.vox-cdn.com/thumbor/Q7GzWpxDEqIUwq46htpHIobxQ-A=/0x0:1200x1200/1820x1213/filters:focal(504x504:696x696):format(webp)/cdn.vox-cdn.com/uploads/chorus_image/image/66680523/13_shoe_organizer_lede.w700.h700.2x.0.jpg')",height:500,width:1500},children:Object(b.jsx)("div",{className:"mask",style:{backgroundColor:"rgba(0, 0, 0, 0.1)"},children:Object(b.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:Object(b.jsxs)("div",{className:"text-white",children:[Object(b.jsx)("h1",{className:"mb-3",children:"ShoeHaven"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),!t&&Object(b.jsx)("a",{className:"btn btn-outline-light btn-lg",href:"/login",role:"button",children:"Click Here To Login"})]})})})})},p=n(46),h=n(47),O=n(48),x=n.n(O),m=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL||"",f=function(){function e(){Object(p.a)(this,e)}return Object(h.a)(e,null,[{key:"request",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,c,s,i,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=u.length>2&&void 0!==u[2]?u[2]:"get",console.debug("API CALL:",t,n,a),r="".concat(m,"/").concat(t),c={Authorization:"Bearer ".concat(localStorage.getItem("token"))},s="get"===a?n:{},e.prev=6,e.next=9,x()({url:r,method:a,data:n,params:s,headers:c});case 9:return e.abrupt("return",e.sent.data);case 12:throw e.prev=12,e.t0=e.catch(6),console.error("API error:",e.t0.response),i=e.t0.response.data,Array.isArray(i)?i:[i];case 17:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r,c){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/signup",{username:t,password:n,firstname:a,lastname:r,email:c},"post");case 2:return s=e.sent,localStorage.setItem("username",s.username),localStorage.setItem("token",s.token),localStorage.setItem("isAdmin",s.isAdmin),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request("users/login",{username:t,password:n},"post");case 3:return a=e.sent,localStorage.setItem("username",a.username),localStorage.setItem("token",a.token),localStorage.setItem("isAdmin",a.isAdmin),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0[0].error.message);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(localStorage.getItem("username"),"/update"),{password:t,firstname:n,lastname:a,email:r},"patch");case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()}]),e}(),g=n(12),v=n(95),w=n(96),y=n(101),C=n(51),k=n(94),L=function(e){var t=e.listing,n=e.purchase,r=e.returnItem,c=Object(a.useState)({}),s=Object(j.a)(c,2),i=s[0],u=s[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("listings/".concat(t));case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(b.jsxs)(y.a,{children:[Object(b.jsxs)(y.a.Body,{children:[Object(b.jsxs)(y.a.Title,{children:[i.title," / $",i.price]}),Object(b.jsx)(y.a.Img,{variant:"top",src:i.picture,alt:"Cool Listing"})]}),Object(b.jsx)(k.a,{onClick:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Return This Item"})]})},S=n(100),I=function(){var e=Object(g.g)().username,t=Object(g.f)(),n=Object(a.useState)([]),r=Object(j.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)([]),d=Object(j.a)(u,2),p=d[0],h=d[1];function O(e){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("sales/return/".concat(n),{},"post");case 2:alert("You Have Returned The Item"),t.push("/listings");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.request("users/".concat(e));case 2:n=t.sent,i(n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(a.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.request("users/".concat(e,"/purchases"));case 2:n=t.sent,console.log(n),h(n.filter((function(e){return!1===e.returned})));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(b.jsx)("div",{children:Object(b.jsx)(v.a,{children:Object(b.jsxs)(w.a,{xs:3,children:[Object(b.jsxs)(y.a,{as:C.a,style:{width:"500px"},children:[Object(b.jsxs)("h1",{children:["Welcome ",e," !"]}),Object(b.jsx)(y.a.Title,{children:" Your Profile:"}),Object(b.jsxs)(y.a.Body,{children:[Object(b.jsxs)("h6",{children:["Name: ",c.firstname," ",c.lastname]}),Object(b.jsxs)("h6",{children:["Email: ",c.email]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]}),Object(b.jsx)(y.a.Footer,{children:Object(b.jsx)(k.a,{variant:"primary",as:s.b,to:"/".concat(e,"/update"),children:"Update Your Profile "})})]}),Object(b.jsxs)(y.a,{as:C.a,style:{width:"500px"},children:[Object(b.jsx)(y.a.Title,{children:" Your Purchases: "}),Object(b.jsx)(y.a.Body,{children:Object(b.jsx)("div",{children:p.map((function(e){return Object(b.jsx)(L,{listing:e.listing,purchase:e.id,returnItem:O},Object(S.a)())}))})})]})]})})})},N=function(e){var t=e.id,n=e.addToCart,r=e.deleteListing,c=Object(a.useState)({}),s=Object(j.a)(c,2),i=s[0],u=s[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("listings/".concat(t));case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(b.jsx)("div",{children:Object(b.jsxs)(y.a,{style:{width:"18rem"},children:[Object(b.jsx)(y.a.Img,{variant:"top",src:i.picture,alt:"Cool Listing"}),Object(b.jsxs)(y.a.Body,{children:[Object(b.jsx)(y.a.Title,{children:i.title}),Object(b.jsx)(y.a.Text,{children:i.details}),Object(b.jsxs)(y.a.Text,{children:["Price: $",i.price]}),Object(b.jsxs)(w.a,{children:[Object(b.jsx)(k.a,{as:C.a,onClick:function(){return n({id:i.id,price:i.stripe_price_id,quantity:1})},variant:"success",children:"Add To Cart"}),"true"===localStorage.getItem("isAdmin")&&Object(b.jsx)(k.a,{as:C.a,onClick:function(){return r(t)},variant:"danger",children:"Delete Listing"})]})]})]})})},T=function(e){var t=e.addToCart,n=e.deleteListing,r=Object(a.useState)([]),c=Object(j.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("listings");case 2:t=e.sent,i(t.filter((function(e){return!1===e.sold})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Listings:"}),Object(b.jsx)(v.a,{children:Object(b.jsx)(w.a,{xs:4,children:s.map((function(e){return Object(b.jsx)(N,{id:e.id,addToCart:t,deleteListing:n},Object(S.a)())}))})})]})},E=n(9),P=n(2),A=n(99),q=function(e){var t=e.updateUser,n=Object(g.g)().username,r={password:"",firstname:"",lastname:"",email:""},c=Object(a.useState)(r),s=Object(j.a)(c,2),i=s[0],u=s[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("users/".concat(n));case 2:t=e.sent,u({password:"",firstname:t.firstname,lastname:t.lastname,email:t.email});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var d=Object(g.f)();function p(e){e.preventDefault(),u((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(E.a)({},e.target.name,e.target.value))}))}return Object(b.jsxs)(v.a,{children:[Object(b.jsxs)("h4",{children:["Welcome ",n," !",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"Update Your Profile Below:"]}),Object(b.jsxs)(A.a,{onSubmit:function(e){e.preventDefault();var n=i.password,a=i.firstname,c=i.lastname,s=i.email;t(n,a,c,s),u(r),d.push("/listings")},children:[Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(A.a.Group,{as:C.a,className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"First Name"}),Object(b.jsx)(A.a.Control,{type:"text",name:"firstname",placeholder:"First Name",value:i.firstname,onChange:p})]}),Object(b.jsxs)(A.a.Group,{as:C.a,className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Last Name"}),Object(b.jsx)(A.a.Control,{type:"text",name:"lastname",placeholder:"Last Name",value:i.lastname,onChange:p})]})]}),Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(A.a.Group,{as:C.a,className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"E-Mail"}),Object(b.jsx)(A.a.Control,{type:"text",name:"email",placeholder:"E-Mail",value:i.email,onChange:p})]}),Object(b.jsxs)(A.a.Group,{as:C.a,className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Password"}),Object(b.jsx)(A.a.Control,{type:"password",name:"password",placeholder:"Password",value:i.password,onChange:p})]})]}),Object(b.jsx)(k.a,{variant:"primary",type:"submit",children:"Update"})]})]})},_=function(e){var t=e.login,n={username:"",password:""},r=Object(a.useState)(n),c=Object(j.a)(r,2),s=c[0],i=c[1],o=Object(g.f)(),u=function(e){e.preventDefault(),i((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(E.a)({},e.target.name,e.target.value))}))};return Object(b.jsxs)("div",{children:[Object(b.jsx)("h5",{children:"Enter Details Below To Login:"}),Object(b.jsx)(v.a,{children:Object(b.jsxs)(A.a,{onSubmit:function(e){e.preventDefault();var a=s.username,r=s.password;t(a,r).then((function(){localStorage.getItem("username")?(i(n),o.push("/listings")):o.push("/login")}))},children:[Object(b.jsxs)(A.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(b.jsx)(A.a.Label,{children:"Username"}),Object(b.jsx)(A.a.Control,{type:"text",name:"username",placeholder:"Enter Username",value:s.username,onChange:u})]}),Object(b.jsxs)(A.a.Group,{className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Password"}),Object(b.jsx)(A.a.Control,{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:u})]}),Object(b.jsx)(k.a,{variant:"primary",type:"submit",children:"Login"})]})})]})},D=function(e){var t=e.signup,n={username:"",password:"",firstname:"",lastname:"",email:""},r=Object(a.useState)(n),c=Object(j.a)(r,2),s=c[0],i=c[1],u=Object(g.f)(),d=function(e){e.preventDefault(),i((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(E.a)({},e.target.name,e.target.value))}))},p=function(){var e=Object(l.a)(o.a.mark((function e(a){var r,c,l,j,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),r=s.username,c=s.password,l=s.firstname,j=s.lastname,b=s.email,t(r,c,l,j,b).then((function(){localStorage.getItem("username")?(i(n),u.push("/listings")):u.push("/home")})),i(n),u.push("/listings");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(v.a,{children:[Object(b.jsx)("h1",{children:"Enter Details To Signup:"}),Object(b.jsxs)(A.a,{onSubmit:p,children:[Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(A.a.Group,{as:C.a,className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Username"}),Object(b.jsx)(A.a.Control,{type:"text",name:"username",placeholder:"Username",value:s.username,onChange:d})]}),Object(b.jsxs)(A.a.Group,{as:C.a,className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Password"}),Object(b.jsx)(A.a.Control,{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:d})]})]}),Object(b.jsxs)(w.a,{children:[Object(b.jsxs)(A.a.Group,{as:C.a,className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"First Name"}),Object(b.jsx)(A.a.Control,{type:"text",name:"firstname",placeholder:"First Name",value:s.firstname,onChange:d})]}),Object(b.jsxs)(A.a.Group,{as:C.a,className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Last Name"}),Object(b.jsx)(A.a.Control,{type:"text",name:"lastname",placeholder:"Last Name",value:s.lastname,onChange:d})]})]}),Object(b.jsxs)(A.a.Group,{className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"E-Mail"}),Object(b.jsx)(A.a.Control,{type:"text",name:"email",placeholder:"E-Mail",value:s.email,onChange:d})]}),Object(b.jsx)(k.a,{variant:"primary",type:"submit",children:"Signup"})]})]})},F=n(97),G=n(98),U=function(e){var t=e.logout,n=e.userLoggedIn;return Object(b.jsx)("div",{children:Object(b.jsx)(F.a,{bg:"light",expand:"lg",children:Object(b.jsxs)(v.a,{children:[Object(b.jsx)(F.a.Brand,{as:s.b,to:"/",children:"Shoe Haven "}),Object(b.jsx)(F.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(b.jsx)(F.a.Collapse,{id:"basic-navbar-nav"}),Object(b.jsxs)(G.a,{children:[!n&&Object(b.jsx)(G.a.Link,{as:s.b,to:"/signup",children:"Signup"}),!n&&Object(b.jsx)(G.a.Link,{as:s.b,to:"/login",children:"Login"}),n&&Object(b.jsx)(G.a.Link,{as:s.b,to:"/users/".concat(n),children:"Profile"}),n&&Object(b.jsx)(G.a.Link,{as:s.b,to:"/listings",children:"Listings"}),"true"===localStorage.getItem("isAdmin")&&Object(b.jsx)(G.a.Link,{as:s.b,to:"/listings/new",children:"Create Listing"}),n&&Object(b.jsx)(G.a.Link,{as:s.b,to:"/cart",children:"Cart"}),n&&Object(b.jsx)(G.a.Link,{as:s.b,to:"/feedback",children:"Submit Feedback"}),"true"===localStorage.getItem("isAdmin")&&Object(b.jsx)(G.a.Link,{as:s.b,to:"/comments",children:"View Feedback"}),n&&Object(b.jsx)(G.a.Link,{as:s.b,to:"/login",onClick:function(){return t()},children:"Logout"}),Object(b.jsxs)(G.a.Link,{eventKey:"disabled",disabled:!0,children:["Current User: ",Object(b.jsxs)("b",{children:["'",n,"'"]})]})]})]})})})},B=function(e){var t=e.id,n=e.removeFromCart,r=Object(a.useState)({}),c=Object(j.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("listings/".concat(t));case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(b.jsx)("div",{children:Object(b.jsxs)(y.a,{style:{width:"18rem"},children:[Object(b.jsx)(y.a.Img,{variant:"top",src:s.picture,alt:"Cool Listing"}),Object(b.jsxs)(y.a.Body,{children:[Object(b.jsx)(y.a.Title,{children:s.title}),Object(b.jsxs)(y.a.Text,{children:["$",s.price]}),Object(b.jsx)(k.a,{variant:"warning",onClick:function(){return n(t)},children:" Remove From Cart "})]})]})})},R=function(e){var t=e.items,n=e.removeFromCart,a=e.checkout;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Cart:"}),t.map((function(e){return Object(b.jsx)(B,{id:e.id,removeFromCart:n},Object(S.a)())})),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),t.length>0?Object(b.jsx)(k.a,{onClick:function(){return a()},variant:"success",children:"Checkout"}):Object(b.jsx)("h1",{children:"Cart Is Empty!"})]})},H=(n(91),function(e){var t=e.addComment,n={body:""},r=Object(g.f)(),c=Object(a.useState)(n),s=Object(j.a)(c,2),i=s[0],u=s[1],d=function(){var e=Object(l.a)(o.a.mark((function e(a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),c=i.body,t(c),u(n),r.push("/home");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u((function(e){return Object(P.a)(Object(P.a)({},e),{},Object(E.a)({},t.target.name,t.target.value))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{children:Object(b.jsxs)(v.a,{children:[Object(b.jsx)("h1",{children:"Please Submit Feedback Here:"}),Object(b.jsxs)(A.a,{onSubmit:d,children:[Object(b.jsx)(A.a.Group,{className:"mb-3",children:Object(b.jsx)(A.a.Control,{as:"textarea",name:"body",placeholder:"Type Your Comment Here",value:i.body,onChange:p})}),Object(b.jsx)(k.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})}),Y=function(e){var t=e.addListing,n={title:"",picture:"",price:"",details:""},r=Object(a.useState)(n),c=Object(j.a)(r,2),s=c[0],i=c[1],o=Object(g.f)(),u=function(e){e.preventDefault(),i((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(E.a)({},e.target.name,e.target.value))}))};return Object(b.jsx)("div",{children:Object(b.jsxs)(v.a,{children:[Object(b.jsx)("h1",{children:"New Listing:"}),Object(b.jsxs)(A.a,{onSubmit:function(e){e.preventDefault();var a=s.title,r=s.picture,c=s.price,u=s.details;t(a,r,c,u),o.push("/listings"),i(n)},children:[Object(b.jsxs)(A.a.Group,{className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Title"}),Object(b.jsx)(A.a.Control,{type:"text",name:"title",placeholder:"Item Name",value:s.title,onChange:u})]}),Object(b.jsxs)(A.a.Group,{className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Picture"}),Object(b.jsx)(A.a.Control,{type:"text",name:"picture",placeholder:"Link to Picture Of Item",value:s.picture,onChange:u})]}),Object(b.jsxs)(A.a.Group,{className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Price"}),Object(b.jsx)(A.a.Control,{type:"number",name:"price",placeholder:"price",value:s.price,onChange:u})]}),Object(b.jsxs)(A.a.Group,{className:"mb-3",children:[Object(b.jsx)(A.a.Label,{children:"Details"}),Object(b.jsx)(A.a.Control,{as:"textarea",style:{height:"500px"},name:"details",placeholder:"Description",value:s.details,onChange:u})]}),Object(b.jsx)(k.a,{variant:"primary",type:"submit",children:"Add New Lisiting"})]})]})})},W=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Order Canceled"}),Object(b.jsx)(k.a,{as:s.b,to:"/listings",children:"Return To Listings"})]})},K=function(){var e=Object(g.g)().session_id;return Object(a.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.request("sales/new",{session_id:e},"post");case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Order Placed"}),Object(b.jsx)(k.a,{as:s.b,to:"/listings",children:"Return To Listings"})]})},M=function(e){var t=e.username,n=e.body,a=e.timeSubmitted;return Object(b.jsx)("div",{children:Object(b.jsx)(y.a,{style:{width:"400px"},children:Object(b.jsxs)(y.a.Body,{children:[Object(b.jsxs)(y.a.Text,{children:[" ",t," @ ",a," "]}),Object(b.jsx)(y.a.Text,{children:n})]})})})},z=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("comments");case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"User Feedback:"}),n.map((function(e){return Object(b.jsx)(M,{username:e.commentor,body:e.body,timeSubmitted:e.timesubmitted})}))]})};var $=function(){var e=Object(a.useState)(localStorage.getItem("username")),t=Object(j.a)(e,2),n=t[0],r=t[1];function c(){return(c=Object(l.a)(o.a.mark((function e(t,n,a,c,s){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.signup(t,n,a,c,s);case 2:return r(localStorage.getItem("username")),e.abrupt("return",new Promise((function(e,t){e()})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.login(t,n);case 2:return r(localStorage.getItem("username")),e.abrupt("return",new Promise((function(e,t){e()})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(l.a)(o.a.mark((function e(t,n,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.updateUser(t,n,a,r);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("comments/new",{body:t},"post");case 2:alert("Successfully Submitted. Thank You For Your Feedback");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(l.a)(o.a.mark((function e(t,n,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("listings/new",{title:t,picture:n,price:parseFloat(a),details:r,sold:!1},"post");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("listings/".concat(t),{},"delete");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=Object(a.useState)([]),m=Object(j.a)(x,2),v=m[0],w=m[1];function y(){return y=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.request("sales/checkout",{cart:v},"post");case 2:return t=e.sent,w([]),window.location.href=t.redirect,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(U,{logout:function(){localStorage.clear(),alert("Logged Out"),r(localStorage.getItem("username"))},userLoggedIn:n}),Object(b.jsxs)(g.c,{children:[Object(b.jsx)(g.a,{exact:!0,path:"/",children:Object(b.jsx)(d,{userLoggedIn:n})}),Object(b.jsx)(g.a,{exact:!0,path:"/login",children:Object(b.jsx)(_,{login:function(e,t){return s.apply(this,arguments)}})}),Object(b.jsx)(g.a,{exact:!0,path:"/comments",children:Object(b.jsx)(z,{})}),Object(b.jsx)(g.a,{exact:!0,path:"/signup",children:Object(b.jsx)(D,{signup:function(e,t,n,a,r){return c.apply(this,arguments)}})}),Object(b.jsx)(g.a,{exact:!0,path:"/listings",children:Object(b.jsx)(T,{addToCart:function(e){w((function(t){return[].concat(Object(u.a)(t),[e])})),alert("Added To Cart")},deleteListing:function(e){return O.apply(this,arguments)}})}),Object(b.jsx)(g.a,{exact:!0,path:"/listings/new",children:Object(b.jsx)(Y,{addListing:function(e,t,n,a){return h.apply(this,arguments)}})}),Object(b.jsx)(g.a,{exact:!0,path:"/users/:username",children:Object(b.jsx)(I,{})}),Object(b.jsx)(g.a,{exact:!0,path:"/:username/update",children:Object(b.jsx)(q,{updateUser:function(e,t,n,a){return i.apply(this,arguments)}})}),Object(b.jsx)(g.a,{exact:!0,path:"/cart",children:Object(b.jsx)(R,{items:v,removeFromCart:function(e){w(v.filter((function(t){return t.id!==e})))},checkout:function(){return y.apply(this,arguments)}})}),Object(b.jsx)(g.a,{exact:!0,path:"/feedback",children:Object(b.jsx)(H,{addComment:function(e){return p.apply(this,arguments)}})}),Object(b.jsx)(g.a,{exact:!0,path:"/orderPlaced/:session_id",children:Object(b.jsx)(K,{})}),Object(b.jsx)(g.a,{exact:!0,path:"/orderCanceled",children:Object(b.jsx)(W,{})})]})]})};c.a.render(Object(b.jsx)(s.a,{children:Object(b.jsx)($,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.9b649346.chunk.js.map